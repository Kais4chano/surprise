<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Une petite surprise pour toi</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">
  <h1>J’ai pensé à toi</h1>
  <p>Clique sur une carte.  
  Aucune n’est dangereuse.  
  Enfin… presque.</p>

  <div class="grid">
    <div class="card" onclick="reveal(this)">Tu gagnes…</div>
    <div class="card" onclick="reveal(this)">Rawr</div>
    <div class="card" onclick="reveal(this)">Vérité</div>
    <div class="card" onclick="reveal(this)">Autre vérité</div>
    <div class="card" onclick="reveal(this)">Irresponsable</div>
    <div class="card" onclick="reveal(this)">Surprise</div>
  </div>

  <button id="replayBtn" onclick="recommencer()">Revenir autrement</button>

  <footer>
    Ceci est une zone sécurisée.  
    Toute émotion est assumée.
  </footer>
</div>

<script>
const messages = [
  "Tu n’habites plus un appart dans mon cœur. Upgrade validé. Villa avec piscine.",
  "Je pensais être calme. Puis tu existes.",
  "Si je te regarde trop longtemps, ce n’est pas de ma faute, t'abuses sur la beauté.",
  "Tu fais partie des choses que je n’explique pas mais que je choisis.",
  "Ton corps me manque (pas seulement ton corps, tout)",
  "Bliblablblabliblou"
];

// récupération du choix précédent
let choixDejaFait = localStorage.getItem("choix");

function reveal(card) {
  if (card.classList.contains("revealed")) return;

  // stockage du choix
  localStorage.setItem("choix", card.textContent);

  // afficher message aléatoire
  const msg = messages.splice(Math.floor(Math.random() * messages.length), 1)[0];
  card.textContent = msg;
  card.classList.add("revealed", "active");

  // faire s'envoler les autres cartes
  document.querySelectorAll('.card').forEach(c => {
    if(c !== card) c.classList.add("disparait");
  });
}

// recommencer la boucle
function recommencer() {
  document.body.classList.add("transition");
  setTimeout(() => {
    window.location.reload();
  }, 600);
}

// si un choix avait été fait avant, afficher direct (optionnel)
if(choixDejaFait) {
  document.querySelectorAll('.card').forEach(card => {
    if(card.textContent === choixDejaFait) {
      card.classList.add('revealed', 'active');
    } else {
      card.classList.add('disparait');
    }
  });
}
</script>
</body>
</html>
